\documentclass[a4paper]{article}

%% packages
%%%%%%%%%%%
\usepackage[utf8x]{inputenc}
\usepackage[USenglish]{babel}
\usepackage{amsbsy,amscd,amsfonts,amssymb,amstext,amsmath,amsthm,latexsym}
% Package mathpartir is currently not available in nixpkgs
\usepackage{mathpartir}
\usepackage{stmaryrd}
\usepackage{dot2texi}
\usepackage{url}
\usepackage{hyperref}
%\usepackage[xindy]{glossaries}
\usepackage[nottoc]{tocbibind}
\usepackage{pdfpages}

\usepackage{syntax} % for bnf grammar
\usepackage{bussproofs} % for type rules
\usepackage{todonotes}

\usepackage{float} % for figures
\floatstyle{boxed}
\restylefloat{figure}

\usepackage{listings}
\usepackage{xcolor}
%\usepackage{tikz}
\usetikzlibrary{positioning,chains,shapes.arrows,shapes.geometric,fit,calc,arrows,decorations.pathmorphing}

%\usepackage{subfig}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{adjustbox}
\usepackage{cleveref}

%% options
%%%%%%%%%%
% Currently no such things seem to be needed.
% \newtheorem{definition}{Definition}
% \newtheorem{example}{Example}
% \newtheorem{lemma}{Lemma}
% \newtheorem{theorem}{Theorem}
% \newtheorem{claim}{Claim}
% \numberwithin{definition}{chapter}

\input{macros}
%\input{tikz}

\begin{document}
% Table of contents
%%%%%%%%%%%%%%%%%%%
%\tableofcontents

% Content
%%%%%%%%%
%\chapter{Bar}
\section{Current State}
\subsection{General First-Order Encoding Template}


\subsection{Natural Numbers Program}
\begin{align}
&\constr{\texttt{Zero}}{x}{\epsilon}\\
&\constr{\texttt{Succ}}{x}{\instOf{x.p}{\texttt{Nat}}}\\
&\progEnt{x}{\instOf{x}{\texttt{Zero}}}{\instOf{x}{\texttt{Nat}}}\\
&\progEnt{x}{\instOf{x}{\texttt{Succ}}, \instOf{x.p}{\texttt{Nat}}}{\instOf{x}{\texttt{Nat}}}\\
&\mDecl{\texttt{prev}}{x}{\instOf{x}{\texttt{Nat}}}{\type{y}{\instOf{y}{\texttt{Nat}}}}\\
&\mImpl{\texttt{prev}}{x}{\instOf{x}{\texttt{Zero}}}{\type{y}{\instOf{y}{\texttt{Nat}}}}{\newInstNoArgs{\texttt{Zero}}}\\
&\mImpl{\texttt{prev}}{x}{\instOf{x}{\texttt{Succ}}, \instOf{x.p}{\texttt{Nat}}}{\type{y}{\instOf{y}{\texttt{Nat}}}}{x.p}
\end{align}

\subsection{First-Order Encoding for Natural Numbers Program}

\section{How do we check entailments?}
1. Create set of ``axioms'' from program and entailment to check
1.1. datatype declarations (vars, classes, fields, paths if necessary)
1.2. function declarations (path-equivalence, instOf, instBy if necessary)
1.3. calculus rules (class, subst, one prog rule per entailment declaration in the program)
2. assert entailment to be checked
2.1. $c_1,...,c_n \vdash c \Rightarrow c_1 \land ... \land c_n â†’ c$
2.2. negate translated entailment and assert it.
2.3. If unsat, it's valid/correct. If sat it's not valid.

\section{Example Entailments}
\subsection{working valid entailment}
- can be checked unsat
- unsat core gives contraticting rules

\subsection{working invalid entailment}
- can be checked sat
- model gives interpretation (counter example?)

\subsection{non-working invalid entailment (inf runtime)}
- cannot be checked, solver has ``infinite'' runtime

\end{document}
